<md-dialog aria-label="Add Friend Form">
	<md-content>
		<h3>Add a new friend</h3>

		<form ng-submit="$event.preventDefault()" name="addFriendForm">

			<md-autocomplete flex required
					md-input-name="autocompleteField"
					md-input-minlength="2"
					md-input-maxlength="32"
					md-no-cache="noCache"
					md-selected-item="selectedItem"
					md-search-text="searchText"
					md-items="item in querySearch(searchText)"
					md-item-text="item.name"
					md-floating-label="Search for a friend">
				<md-item-template>
					<span md-highlight-text="searchText">{{item.name}}</span>
				</md-item-template>
				<div ng-messages="addFriendForm.autocompleteField.$error" ng-if="addFriendForm.autocompleteField.$touched">
					<div ng-message="required">You haven't selected anyone.</div>
					<div ng-message="md-require-match">Please select an existing user.</div>
					<div ng-message="minlength">Your entry is not long enough.</div>
					<div ng-message="maxlength">Your entry is too long.</div>
				</div>
			</md-autocomplete>
		</form>
	</md-content>

	<md-button ng-click="submit(selectedItem)" class="md-accent md-cornered md-raised">
		Add friend
	</md-button>
</md-dialog>